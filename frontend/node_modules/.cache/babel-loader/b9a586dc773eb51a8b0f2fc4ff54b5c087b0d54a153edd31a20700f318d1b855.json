{"ast":null,"code":"var _jsxFileName = \"/home/dardanr/lab2/frontend/src/context/WeatherContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useQuery } from 'react-query';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherContext = /*#__PURE__*/createContext();\n\n// Mock weather data for demonstration\nconst mockWeatherData = {\n  current: {\n    temp: 22,\n    feels_like: 24,\n    humidity: 65,\n    wind_speed: 12,\n    description: 'Partly Cloudy',\n    icon: '02d',\n    pressure: 1013,\n    visibility: 10000,\n    uv_index: 5,\n    sunrise: '06:30',\n    sunset: '18:45'\n  },\n  hourly: Array.from({\n    length: 24\n  }, (_, i) => ({\n    time: `${i}:00`,\n    temp: 20 + Math.sin(i * 0.3) * 5,\n    icon: i < 6 || i > 18 ? '01n' : '02d',\n    description: i < 6 || i > 18 ? 'Clear' : 'Partly Cloudy'\n  })),\n  daily: Array.from({\n    length: 7\n  }, (_, i) => ({\n    date: new Date(Date.now() + i * 24 * 60 * 60 * 1000).toLocaleDateString(),\n    temp_max: 25 + Math.random() * 10,\n    temp_min: 15 + Math.random() * 5,\n    icon: '02d',\n    description: 'Partly Cloudy',\n    humidity: 60 + Math.random() * 20,\n    wind_speed: 8 + Math.random() * 8\n  })),\n  location: {\n    name: 'New York',\n    country: 'US',\n    lat: 40.7128,\n    lon: -74.0060\n  }\n};\nconst initialState = {\n  currentLocation: 'New York',\n  weatherData: null,\n  isLoading: false,\n  error: null,\n  units: 'metric',\n  // metric or imperial\n  theme: 'dark'\n};\nfunction weatherReducer(state, action) {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return {\n        ...state,\n        isLoading: action.payload\n      };\n    case 'SET_WEATHER_DATA':\n      return {\n        ...state,\n        weatherData: action.payload,\n        isLoading: false\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.payload,\n        isLoading: false\n      };\n    case 'SET_LOCATION':\n      return {\n        ...state,\n        currentLocation: action.payload\n      };\n    case 'SET_UNITS':\n      return {\n        ...state,\n        units: action.payload\n      };\n    case 'SET_THEME':\n      return {\n        ...state,\n        theme: action.payload\n      };\n    default:\n      return state;\n  }\n}\nexport function WeatherProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(weatherReducer, initialState);\n\n  // Simulate weather API call\n  const fetchWeatherData = async location => {\n    // In a real app, this would be an actual API call\n    // const response = await axios.get(`/api/weather?location=${location}`);\n    // return response.data;\n\n    // For demo, return mock data with some randomization\n    await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API delay\n\n    return {\n      ...mockWeatherData,\n      location: {\n        ...mockWeatherData.location,\n        name: location\n      },\n      current: {\n        ...mockWeatherData.current,\n        temp: 20 + Math.random() * 15,\n        humidity: 50 + Math.random() * 30\n      }\n    };\n  };\n  const {\n    data: weatherData,\n    isLoading,\n    error\n  } = useQuery(['weather', state.currentLocation], () => fetchWeatherData(state.currentLocation), {\n    refetchInterval: 300000,\n    // Refetch every 5 minutes\n    staleTime: 300000,\n    cacheTime: 600000\n  });\n  useEffect(() => {\n    if (weatherData) {\n      dispatch({\n        type: 'SET_WEATHER_DATA',\n        payload: weatherData\n      });\n    }\n  }, [weatherData]);\n  useEffect(() => {\n    if (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n    }\n  }, [error]);\n  const setLocation = location => {\n    dispatch({\n      type: 'SET_LOCATION',\n      payload: location\n    });\n  };\n  const setUnits = units => {\n    dispatch({\n      type: 'SET_UNITS',\n      payload: units\n    });\n  };\n  const setTheme = theme => {\n    dispatch({\n      type: 'SET_THEME',\n      payload: theme\n    });\n  };\n  const value = {\n    ...state,\n    weatherData,\n    isLoading,\n    error,\n    setLocation,\n    setUnits,\n    setTheme\n  };\n  return /*#__PURE__*/_jsxDEV(WeatherContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_s(WeatherProvider, \"MP6py78qMg+fIUeeGx92H6VjE24=\", false, function () {\n  return [useQuery];\n});\n_c = WeatherProvider;\nexport function useWeather() {\n  _s2();\n  const context = useContext(WeatherContext);\n  if (!context) {\n    throw new Error('useWeather must be used within a WeatherProvider');\n  }\n  return context;\n}\n_s2(useWeather, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"WeatherProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useQuery","axios","jsxDEV","_jsxDEV","WeatherContext","mockWeatherData","current","temp","feels_like","humidity","wind_speed","description","icon","pressure","visibility","uv_index","sunrise","sunset","hourly","Array","from","length","_","i","time","Math","sin","daily","date","Date","now","toLocaleDateString","temp_max","random","temp_min","location","name","country","lat","lon","initialState","currentLocation","weatherData","isLoading","error","units","theme","weatherReducer","state","action","type","payload","WeatherProvider","children","_s","dispatch","fetchWeatherData","Promise","resolve","setTimeout","data","refetchInterval","staleTime","cacheTime","message","setLocation","setUnits","setTheme","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useWeather","_s2","context","Error","$RefreshReg$"],"sources":["/home/dardanr/lab2/frontend/src/context/WeatherContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useQuery } from 'react-query';\nimport axios from 'axios';\n\nconst WeatherContext = createContext();\n\n// Mock weather data for demonstration\nconst mockWeatherData = {\n  current: {\n    temp: 22,\n    feels_like: 24,\n    humidity: 65,\n    wind_speed: 12,\n    description: 'Partly Cloudy',\n    icon: '02d',\n    pressure: 1013,\n    visibility: 10000,\n    uv_index: 5,\n    sunrise: '06:30',\n    sunset: '18:45'\n  },\n  hourly: Array.from({ length: 24 }, (_, i) => ({\n    time: `${i}:00`,\n    temp: 20 + Math.sin(i * 0.3) * 5,\n    icon: i < 6 || i > 18 ? '01n' : '02d',\n    description: i < 6 || i > 18 ? 'Clear' : 'Partly Cloudy'\n  })),\n  daily: Array.from({ length: 7 }, (_, i) => ({\n    date: new Date(Date.now() + i * 24 * 60 * 60 * 1000).toLocaleDateString(),\n    temp_max: 25 + Math.random() * 10,\n    temp_min: 15 + Math.random() * 5,\n    icon: '02d',\n    description: 'Partly Cloudy',\n    humidity: 60 + Math.random() * 20,\n    wind_speed: 8 + Math.random() * 8\n  })),\n  location: {\n    name: 'New York',\n    country: 'US',\n    lat: 40.7128,\n    lon: -74.0060\n  }\n};\n\nconst initialState = {\n  currentLocation: 'New York',\n  weatherData: null,\n  isLoading: false,\n  error: null,\n  units: 'metric', // metric or imperial\n  theme: 'dark'\n};\n\nfunction weatherReducer(state, action) {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return { ...state, isLoading: action.payload };\n    case 'SET_WEATHER_DATA':\n      return { ...state, weatherData: action.payload, isLoading: false };\n    case 'SET_ERROR':\n      return { ...state, error: action.payload, isLoading: false };\n    case 'SET_LOCATION':\n      return { ...state, currentLocation: action.payload };\n    case 'SET_UNITS':\n      return { ...state, units: action.payload };\n    case 'SET_THEME':\n      return { ...state, theme: action.payload };\n    default:\n      return state;\n  }\n}\n\nexport function WeatherProvider({ children }) {\n  const [state, dispatch] = useReducer(weatherReducer, initialState);\n\n  // Simulate weather API call\n  const fetchWeatherData = async (location) => {\n    // In a real app, this would be an actual API call\n    // const response = await axios.get(`/api/weather?location=${location}`);\n    // return response.data;\n    \n    // For demo, return mock data with some randomization\n    await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API delay\n    \n    return {\n      ...mockWeatherData,\n      location: {\n        ...mockWeatherData.location,\n        name: location\n      },\n      current: {\n        ...mockWeatherData.current,\n        temp: 20 + Math.random() * 15,\n        humidity: 50 + Math.random() * 30\n      }\n    };\n  };\n\n  const { data: weatherData, isLoading, error } = useQuery(\n    ['weather', state.currentLocation],\n    () => fetchWeatherData(state.currentLocation),\n    {\n      refetchInterval: 300000, // Refetch every 5 minutes\n      staleTime: 300000,\n      cacheTime: 600000,\n    }\n  );\n\n  useEffect(() => {\n    if (weatherData) {\n      dispatch({ type: 'SET_WEATHER_DATA', payload: weatherData });\n    }\n  }, [weatherData]);\n\n  useEffect(() => {\n    if (error) {\n      dispatch({ type: 'SET_ERROR', payload: error.message });\n    }\n  }, [error]);\n\n  const setLocation = (location) => {\n    dispatch({ type: 'SET_LOCATION', payload: location });\n  };\n\n  const setUnits = (units) => {\n    dispatch({ type: 'SET_UNITS', payload: units });\n  };\n\n  const setTheme = (theme) => {\n    dispatch({ type: 'SET_THEME', payload: theme });\n  };\n\n  const value = {\n    ...state,\n    weatherData,\n    isLoading,\n    error,\n    setLocation,\n    setUnits,\n    setTheme\n  };\n\n  return (\n    <WeatherContext.Provider value={value}>\n      {children}\n    </WeatherContext.Provider>\n  );\n}\n\nexport function useWeather() {\n  const context = useContext(WeatherContext);\n  if (!context) {\n    throw new Error('useWeather must be used within a WeatherProvider');\n  }\n  return context;\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}